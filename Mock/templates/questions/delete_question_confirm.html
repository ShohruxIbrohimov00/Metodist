{% extends 'base.html' %}
{% load static i18n %}

{% block title %}{% trans "Savolni o'chirishni tasdiqlash" %}{% endblock %}

{% block content %}
<div class="container mx-auto p-4 md:p-8 max-w-2xl">
    <div class="bg-white shadow-xl rounded-xl p-6 md:p-8 border border-red-200">
        <h2 class="text-3xl font-extrabold text-red-700 mb-4 flex items-center">
            <i class="fas fa-exclamation-triangle mr-3"></i>{% trans "O'chirishni tasdiqlash" %}
        </h2>
        
        <p class="text-gray-700 mb-6">
            {% trans "Siz haqiqatan ham quyidagi savolni o'chirmoqchimisiz?" %}
        </p>

        <div class="bg-red-50 p-4 rounded-lg border border-red-300 mb-6">
            <h4 class="font-bold text-red-800 mb-2">{% trans "Savol:" %} (ID: {{ question.id }})</h4>
            <div class="prose max-w-none text-gray-800">
                {# Savol matni o'chirilmasdan oldin ko'rsatiladi #}
                {{ question.text|safe }} 
            </div>
            {% if question.subtopic %}
                <p class="mt-2 text-sm text-gray-600">
                    <span class="font-semibold">{% trans "Mavzu:" %}</span> {{ question.subtopic.name }}
                </p>
            {% endif %}
        </div>

        <div class="bg-yellow-100 p-4 rounded-lg border border-yellow-400 mb-8 text-sm text-yellow-800">
            <p class="font-semibold mb-1">{% trans "DIQQAT!" %}</p>
            <p>{% trans "Bu amal qaytarib bo'lmaydi. Savol, uning barcha javob variantlari, yechimlari va yuklangan rasmlari (agar CKEditor orqali yuklangan bo'lsa) butunlay o'chiriladi." %}</p>
        </div>

        <form method="POST" action="{% url 'delete_question' slug=center.slug question_id=question.id %}" class="flex justify-end space-x-3">
            {% csrf_token %}
            
            <a href="{{ redirect_url }}" class="inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition duration-150 shadow-sm">
                <i class="fas fa-times mr-2"></i>{% trans "Bekor qilish" %}
            </a>
            
            <button type="submit" class="inline-flex items-center justify-center px-6 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition duration-150 shadow-lg">
                <i class="fas fa-trash-alt mr-2"></i>{% trans "O'chirishni tasdiqlash" %}
            </button>
        </form>
    </div>
</div>
{% endblock %}